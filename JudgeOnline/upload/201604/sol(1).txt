关键字: 模拟、动态规划、线性规划、凸包

   观察到状态转移时H大小不会影响P和F。 于是我们用 F[i][p][h] 表示第i天结束时，逻辑为p，感受为h，返回体力的最大可能值。

   状态大小：估算属性的大小，或队列扩展。注意负数。

   如此一来DP就可以在时间限制以内完成。

   关于询问，实际上是一个3D线性规划问题。

   我们可以对p相同的所有点做一次上凸壳，然后每次枚举p，然后在凸壳上二分/三分最远点位置。